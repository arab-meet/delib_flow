<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4">
  <BehaviorTree ID="MainTree" main_tree_to_execute="MainTree">
    <Sequence>
      <SaySomething message="Warming up"/>
      <Script name="Configure ROS2 Actions" code=" head_action:='head_controller/follow_joint_trajectory'; torso_action:='torso_controller/follow_joint_trajectory'"/>

      <SaySomething message="Move torso down"/>
      <GetTrajectoryFromYAML trajectory_name="downward" package_name="grab2_behavior_tree" config_file="tiago_torso" trajectory="{trajectory_msg}"/>
      <Move action_name="{torso_action}" trajectory="{trajectory_msg}"/>

      <SaySomething message="Move head around"/>
      <GetTrajectoryFromYAML trajectory_name="sweeping" package_name="grab2_behavior_tree" config_file="tiago_head" trajectory="{trajectory_msg}"/>
      <Move action_name="{head_action}" trajectory="{trajectory_msg}"/>

      <SaySomething message="Move torso up"/>
      <GetTrajectoryFromYAML trajectory_name="upward" package_name="grab2_behavior_tree" config_file="tiago_torso" trajectory="{trajectory_msg}"/>
      <Move action_name="{torso_action}" trajectory="{trajectory_msg}"/>

    </Sequence>
  </BehaviorTree>
</root>
